---
/**
 * Sidebar - Navigation sidebar component
 * Shows navigation links organized by section
 */

export interface Props {
  currentSection?: string;
}

const { currentSection = 'home' } = Astro.props;

const navigation = [
  {
    section: 'Learn',
    icon: 'üìö',
    items: [
      { name: 'Home', href: '/pinyin-chart/', id: 'home' },
      { name: 'Soundboard', href: '/pinyin-chart/soundboard', id: 'soundboard' },
      { name: 'Type & Listen', href: '/pinyin-chart/type', id: 'type' },
    ]
  },
  {
    section: 'Quizzes',
    icon: 'üìù',
    items: [
      { name: 'Tone Recognition', href: '/pinyin-chart/quiz/tone', id: 'quiz-tone' },
      { name: 'Initial Recognition', href: '/pinyin-chart/quiz/initial', id: 'quiz-initial' },
      { name: 'Final Recognition', href: '/pinyin-chart/quiz/final', id: 'quiz-final' },
      { name: 'Complete Syllable', href: '/pinyin-chart/quiz/syllable', id: 'quiz-syllable' },
      { name: 'Minimal Pairs', href: '/pinyin-chart/quiz/pairs', id: 'quiz-pairs' },
      { name: 'HSK Words', href: '/pinyin-chart/quiz/hsk', id: 'quiz-hsk' },
    ]
  },
  {
    section: 'Games',
    icon: 'üéÆ',
    items: [
      { name: 'Pinyin Command', href: '/pinyin-chart/games/pinyin-command', id: 'pinyin-command' },
      { name: 'Pinyin Simon', href: '/pinyin-chart/games/pinyin-simon', id: 'pinyin-simon' },
      { name: 'Pinyin Sandwich', href: '/pinyin-chart/games/pinyin-sandwich', id: 'pinyin-sandwich' },
    ]
  },
  {
    section: 'Reference',
    icon: 'üìñ',
    items: [
      { name: 'Progress & Stats', href: '/pinyin-chart/reference', id: 'reference' },
    ]
  }
];
---

<div class="sidebar">
  <div class="sidebar-header">
    <h1 class="sidebar-title">
      <a href="/pinyin-chart/">ÊãºÈü≥ Pinyin Chart</a>
    </h1>
    <p class="sidebar-subtitle">Learn Mandarin pronunciation</p>
  </div>

  <nav class="sidebar-nav">
    {navigation.map((section) => (
      <div class="nav-section">
        <h3 class="nav-section-title">
          <span class="nav-icon">{section.icon}</span>
          {section.section}
        </h3>
        <ul class="nav-items">
          {section.items.map((item) => (
            <li>
              <a
                href={item.href}
                class:list={['nav-link', { active: currentSection === item.id }]}
              >
                {item.name}
              </a>
            </li>
          ))}
        </ul>
      </div>
    ))}
  </nav>

  <div class="sidebar-footer">
    <a href="https://github.com/kimjune01/pinyin-chart" target="_blank" rel="noopener noreferrer">
      GitHub
    </a>
  </div>
</div>

<style>
  .sidebar {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: var(--spacing-lg);
  }

  .sidebar-header {
    margin-bottom: var(--spacing-xl);
  }

  .sidebar-title {
    font-size: var(--font-size-xl);
    margin-bottom: var(--spacing-xs);
  }

  .sidebar-title a {
    color: var(--color-text);
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .sidebar-title a:hover {
    color: var(--color-primary);
  }

  .sidebar-subtitle {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin: 0;
  }

  .sidebar-nav {
    flex: 1;
    overflow-y: auto;
  }

  .nav-section {
    margin-bottom: var(--spacing-xl);
  }

  .nav-section-title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }

  .nav-icon {
    font-size: var(--font-size-base);
  }

  .nav-items {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .nav-items li {
    margin-bottom: var(--spacing-xs);
  }

  .nav-link {
    display: block;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    color: var(--color-text);
    text-decoration: none;
    transition: all var(--transition-fast);
    font-size: var(--font-size-base);
  }

  .nav-link:hover {
    background-color: var(--color-border-light);
    color: var(--color-primary);
    text-decoration: none;
  }

  .nav-link.active {
    background-color: rgba(74, 144, 226, 0.1);
    color: var(--color-primary);
    font-weight: var(--font-weight-medium);
  }

  .sidebar-footer {
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--color-border);
    text-align: center;
  }

  .sidebar-footer a {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
  }
</style>
